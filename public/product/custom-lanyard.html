<!DOCTYPE html>
<html lang="en">
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="/assets/veom-logo.png">
<link rel="apple-touch-icon" href="/assets/veom-logo.png">
<meta charset="UTF-8">
<title>Custom Lanyards | VEOM by Arya Overseas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="/assets/theme.css">
<style>
  .hero-gradient {
    background: radial-gradient(1200px 600px at 10% 10%, rgba(63, 162, 138, 0.15), transparent 60%),
                radial-gradient(800px 500px at 90% 20%, rgba(216, 178, 107, 0.2), transparent 55%),
                linear-gradient(135deg, rgba(15, 61, 58, 0.04), rgba(15, 61, 58, 0));
  }

  .badge {
    border: 1px solid rgba(20, 80, 70, 0.2);
    background: rgba(237, 247, 244, 0.7);
  }

  .option-tile input:checked + span {
    background: rgba(20, 80, 70, 0.12);
    border-color: rgba(20, 80, 70, 0.6);
    box-shadow: inset 0 0 0 1px rgba(20, 80, 70, 0.45);
  }

  .step-pill {
    background: rgba(15, 61, 58, 0.08);
    color: var(--brand-800);
  }
</style>
</head>

<body class="bg-[#f7f3ee] text-gray-900">

<header class="bg-blue-900 text-white sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <img src="/assets/veom-logo.png" alt="VEOM" class="h-9 w-9 rounded-full">
      <div class="leading-tight">
        <p class="text-lg font-semibold">VEOM</p>
        <p class="text-xs text-white/70">by Arya Overseas</p>
      </div>
    </div>
    <div class="flex items-center gap-3">
      <a href="/" class="text-sm font-semibold text-white/80 hover:text-white">Home</a>
      <a href="https://wa.me/919667371899" target="_blank" rel="noopener noreferrer"
         class="bg-green-500 px-5 py-2 rounded-full text-sm font-semibold">
        WhatsApp
      </a>
    </div>
  </div>
</header>

<section class="max-w-7xl mx-auto px-6 py-10">
  <div class="hero-gradient rounded-3xl border border-white/60 shadow-lg p-8">
    <div class="grid lg:grid-cols-[1.05fr_0.95fr] gap-8 items-center">
      <div>
        <div class="flex flex-wrap gap-2 mb-4">
          <span class="badge text-xs font-semibold px-3 py-1 rounded-full">Top Selling</span>
          <span class="badge text-xs font-semibold px-3 py-1 rounded-full">Hot Product</span>
          <span class="badge text-xs font-semibold px-3 py-1 rounded-full">Free Shipping India</span>
        </div>
        <h1 class="text-4xl md:text-5xl font-semibold mb-3">Custom Lanyards</h1>
        <p class="text-gray-700 text-lg mb-6">
          Premium dye sublimation and woven lanyards with crisp branding, smooth edges, and
          comfortable all-day wear.
        </p>
        <div class="flex items-center gap-4 text-sm text-gray-600 mb-6">
          <div class="flex items-center gap-1">
            <span class="text-yellow-500">★★★★★</span>
            <span>4.9 (206 reviews)</span>
          </div>
          <span>Updated Feb 6, 2026</span>
        </div>
        <div class="flex flex-wrap items-center gap-4">
          <button onclick="document.getElementById('configurator').scrollIntoView({behavior:'smooth'})"
                  class="bg-blue-800 text-white px-6 py-3 rounded-full font-semibold">
            Start Designing
          </button>
          <a href="#pricing" class="text-sm font-semibold">View Price Chart →</a>
        </div>
      </div>
      <div class="bg-white/80 rounded-2xl p-6 shadow card-glow">
        <div class="flex items-center justify-between mb-4">
          <p class="text-sm font-semibold text-blue-800">Designer Mode</p>
          <span class="text-xs text-gray-500">Real product images</span>
        </div>
        <div class="bg-gradient-to-br from-blue-50 to-purple-50 border border-white/60 rounded-2xl p-4">
          <img
            src="https://d11jpnl4uum05e.cloudfront.net/filters%3Aformat%28webp%29/filters%3Aquality%2860%29/fit-in/575x575/wbnew/product/file-1701139335.png"
            alt="Custom lanyard sample"
            class="w-full rounded-xl object-cover"
            loading="lazy"
          >
        </div>
        <div class="grid grid-cols-3 gap-3 mt-4">
          <img
            src="https://d11jpnl4uum05e.cloudfront.net/filters%3Aformat%28webp%29/filters%3Aquality%2860%29/fit-in/575x575/wbnew/product/file-1701139332.png"
            alt="Lanyard sample 1"
            class="h-20 w-full rounded-xl border border-gray-200 object-cover"
            loading="lazy"
          >
          <img
            src="https://d11jpnl4uum05e.cloudfront.net/filters%3Aformat%28webp%29/filters%3Aquality%2860%29/fit-in/575x575/wbnew/product/file-1701139333.png"
            alt="Lanyard sample 2"
            class="h-20 w-full rounded-xl border border-gray-200 object-cover"
            loading="lazy"
          >
          <img
            src="https://d11jpnl4uum05e.cloudfront.net/filters%3Aformat%28webp%29/filters%3Aquality%2860%29/fit-in/575x575/wbnew/product/file-1701139337.png"
            alt="Lanyard sample 3"
            class="h-20 w-full rounded-xl border border-gray-200 object-cover"
            loading="lazy"
          >
        </div>
        <div class="grid grid-cols-3 gap-3 mt-3">
          <img
            src="https://d11jpnl4uum05e.cloudfront.net/filters%3Aformat%28webp%29/filters%3Aquality%2860%29/fit-in/575x575/wbnew/product/file-1701139338.png"
            alt="Lanyard sample 4"
            class="h-20 w-full rounded-xl border border-gray-200 object-cover"
            loading="lazy"
          >
          <img
            src="https://d11jpnl4uum05e.cloudfront.net/filters%3Aformat%28webp%29/filters%3Aquality%2860%29/fit-in/575x575/wbnew/product/file-1701139340.png"
            alt="Lanyard sample 5"
            class="h-20 w-full rounded-xl border border-gray-200 object-cover"
            loading="lazy"
          >
          <div class="h-20 w-full rounded-xl border border-dashed border-gray-300 flex items-center justify-center text-xs text-gray-500">
            More styles
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="configurator" class="max-w-6xl mx-auto px-6 pb-12">
  <div class="bg-white shadow rounded-2xl p-6 mb-6 flex items-center justify-between">
    <p id="stepIndicator" class="font-semibold text-blue-800 step-pill px-4 py-2 rounded-full">
      Step 1 of 4 · Select Options
    </p>
    <p class="text-sm text-gray-500">Minimum order: 1 piece</p>
  </div>

  <div class="bg-white shadow rounded-2xl p-8">

    <!-- STEP 1 -->
    <div class="step" id="step1">
      <div class="flex items-center gap-3 mb-6">
        <span class="step-pill text-sm font-semibold px-3 py-1 rounded-full">Step 1</span>
        <h2 class="text-2xl font-semibold">Choose Lanyard Style</h2>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <p class="font-medium mb-3">Lanyard Style</p>
          <div id="styleOptions" class="grid grid-cols-2 gap-3"></div>
          <p class="text-xs text-slate-500 mt-2">Managed from CMS → Lanyards.</p>
        </div>

        <div>
          <p class="font-medium mb-3">Fittings</p>
          <div id="fittingOptions" class="grid grid-cols-2 gap-2"></div>
          <p class="text-xs text-slate-500 mt-2">Choose one or more fittings.</p>
        </div>
      </div>

      <div class="mt-6">
        <p class="font-medium mb-3">Brand Base Color</p>
        <input type="color" id="bgColor" value="#ffffff" class="w-full h-12 border rounded-lg">
      </div>

      <div class="grid md:grid-cols-4 gap-6 mt-6">
        <div>
          <label class="font-medium">Width</label>
          <select id="width" class="w-full border rounded-lg p-3">
            <option value="7">1/4 inch (7 mm)</option>
            <option value="10">3/8 inch (10 mm)</option>
            <option value="12">1/2 inch (12 mm)</option>
            <option value="15">5/8 inch (15 mm)</option>
            <option value="20" selected>3/4 inch (20 mm)</option>
            <option value="25">1 inch (25 mm)</option>
          </select>
        </div>
        <div>
          <label class="font-medium">Length</label>
          <select id="length" class="w-full border rounded-lg p-3">
            <option value="30">Small 30 inch</option>
            <option value="36" selected>Standard 36 inch</option>
            <option value="42">Large 42 inch</option>
            <option value="48">Extra Large 48 inch</option>
          </select>
        </div>
        <div>
          <label class="font-medium">Quality</label>
          <select id="quality" class="w-full border rounded-lg p-3">
            <option value="Standard" selected>Standard</option>
            <option value="Premium">Premium</option>
          </select>
        </div>
        <div>
          <label class="font-medium">Printing Style</label>
          <select id="printing" class="w-full border rounded-lg p-3">
            <option value="Laser Printing" selected>Laser Printing</option>
            <option value="Screen Printing">Screen Printing</option>
          </select>
        </div>
      </div>

      <div class="text-right mt-8">
        <button onclick="nextStep()" class="bg-blue-800 text-white px-8 py-3 rounded-full">
          Continue →
        </button>
      </div>
    </div>

    <!-- STEP 2 -->
    <div class="step hidden" id="step2">
      <div class="flex items-center gap-3 mb-6">
        <span class="step-pill text-sm font-semibold px-3 py-1 rounded-full">Step 2</span>
        <h2 class="text-2xl font-semibold">Design Your Lanyard</h2>
      </div>

      <label class="font-medium">Text</label>
      <input type="text" id="designText" placeholder="Company Name"
             class="w-full border rounded-lg p-3 mb-4">

      <label class="font-medium">Text Color</label>
      <input type="color" id="textColor" value="#0f3d3a"
             class="w-full h-12 border rounded-lg mb-4">

      <label class="font-medium">Upload Logo</label>
      <input type="file" id="logoUpload" accept="image/*"
             class="w-full border rounded-lg p-3 mb-6">

      <div class="flex justify-between">
        <button onclick="prevStep()" class="border px-6 py-3 rounded-full">← Back</button>
        <button onclick="nextStep(); updatePreview()" class="bg-blue-800 text-white px-8 py-3 rounded-full">
          Continue →
        </button>
      </div>
    </div>

    <!-- STEP 3 -->
    <div class="step hidden" id="step3">
      <div class="flex items-center gap-3 mb-6">
        <span class="step-pill text-sm font-semibold px-3 py-1 rounded-full">Step 3</span>
        <h2 class="text-2xl font-semibold">Print Preview</h2>
      </div>

      <div class="bg-gray-50 border rounded p-4 mb-4">
        <svg id="previewSVG" viewBox="0 0 1000 80" class="w-full"></svg>
      </div>

      <div class="flex flex-wrap gap-4 mb-6">
        <button onclick="downloadSVG()" class="bg-green-600 text-white px-6 py-3 rounded-full">
          Download SVG
        </button>
        <button onclick="downloadPDF()" class="bg-indigo-600 text-white px-6 py-3 rounded-full">
          Download PDF
        </button>
      </div>

      <div class="flex justify-between">
        <button onclick="prevStep()" class="border px-6 py-3 rounded-full">← Back</button>
        <button onclick="nextStep()" class="bg-blue-800 text-white px-8 py-3 rounded-full">
          Continue →
        </button>
      </div>
    </div>

    <!-- STEP 4 -->
    <div class="step hidden" id="step4">
      <div class="flex items-center gap-3 mb-6">
        <span class="step-pill text-sm font-semibold px-3 py-1 rounded-full">Step 4</span>
        <h2 class="text-2xl font-semibold">Submit Design Request</h2>
      </div>

      <div class="grid md:grid-cols-2 gap-3 mb-3">
        <input type="text" id="customerName" placeholder="Your name *" class="w-full border rounded-lg p-3">
        <input type="text" id="customerPhone" placeholder="Phone *" class="w-full border rounded-lg p-3">
      </div>
      <div class="grid md:grid-cols-2 gap-3 mb-3">
        <input type="email" id="customerEmail" placeholder="Email" class="w-full border rounded-lg p-3">
        <input type="text" id="customerCompany" placeholder="Company" class="w-full border rounded-lg p-3">
      </div>
      <input type="number" id="qty" placeholder="Quantity" class="w-full border rounded-lg p-3 mb-4">

      <div class="grid md:grid-cols-2 gap-3">
        <button onclick="submitDesignRequest()"
                class="bg-blue-800 text-white w-full py-4 rounded-full text-lg font-semibold">
          Save Request
        </button>
        <button onclick="sendWhatsApp()"
                class="bg-green-600 text-white w-full py-4 rounded-full text-lg font-semibold">
          Send on WhatsApp
        </button>
      </div>
      <p id="submitMessage" class="text-sm text-slate-500 mt-3"></p>
    </div>
  </div>
</section>

<section id="pricing" class="max-w-6xl mx-auto px-6 pb-12">
  <div class="bg-white shadow rounded-2xl p-8">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-semibold">Price Chart</h2>
      <a href="https://aryaoverseas.in/get-a-quote" class="text-sm font-semibold">Get a custom quote →</a>
    </div>
    <div class="overflow-auto">
      <table class="w-full text-sm">
        <thead class="text-left text-gray-500">
          <tr>
            <th class="py-3">Qty</th>
            <th class="py-3">Standard</th>
            <th class="py-3">Premium</th>
            <th class="py-3">Lead Time</th>
          </tr>
        </thead>
        <tbody class="text-gray-700">
          <tr class="border-t">
            <td class="py-3">1 - 50</td>
            <td class="py-3">Request Quote</td>
            <td class="py-3">Request Quote</td>
            <td class="py-3">7-10 days</td>
          </tr>
          <tr class="border-t">
            <td class="py-3">51 - 200</td>
            <td class="py-3">Request Quote</td>
            <td class="py-3">Request Quote</td>
            <td class="py-3">7-10 days</td>
          </tr>
          <tr class="border-t">
            <td class="py-3">201+</td>
            <td class="py-3">Request Quote</td>
            <td class="py-3">Request Quote</td>
            <td class="py-3">10-14 days</td>
          </tr>
        </tbody>
      </table>
    </div>
    <p class="text-xs text-gray-500 mt-4">Need add-ons like safety breakaway, buckle, or badge reel? Mention it in WhatsApp.</p>
  </div>
</section>

<section class="max-w-6xl mx-auto px-6 pb-16">
  <div class="bg-white shadow rounded-2xl p-8 grid lg:grid-cols-2 gap-8">
    <div>
      <h2 class="text-2xl font-semibold mb-4">Why VEOM Lanyards</h2>
      <p class="text-gray-700 mb-4">
        VEOM lanyards combine color-rich dye sublimation with premium polyester threads for
        long-lasting branding. Prints are embedded into the fabric, so they stay vivid even
        after daily wear.
      </p>
      <ul class="text-gray-700 list-disc pl-5">
        <li>Soft-touch feel, clean edges, and no color cracking.</li>
        <li>Full bleed printing with sharp gradients and logos.</li>
        <li>Custom sizing, attachments, and packaging options.</li>
      </ul>
    </div>
    <div>
      <h3 class="text-xl font-semibold mb-4">Production Highlights</h3>
      <div class="grid gap-4">
        <div class="border rounded-xl p-4">
          <p class="font-semibold">Artwork Support</p>
          <p class="text-sm text-gray-600">Send your logo or text and we will prep a print-ready layout.</p>
        </div>
        <div class="border rounded-xl p-4">
          <p class="font-semibold">Made in India</p>
          <p class="text-sm text-gray-600">Fast production with quality checks at each stage.</p>
        </div>
        <div class="border rounded-xl p-4">
          <p class="font-semibold">Bulk Friendly</p>
          <p class="text-sm text-gray-600">Large orders get custom pricing and delivery planning.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
let step = 1;
let logoData = null;
let catalog = { types: [], fittings: [] };

document.getElementById("logoUpload").addEventListener("change", e => {
  const file = e.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = () => { logoData = reader.result; };
  reader.readAsDataURL(file);
});

function showStep(n){
  document.querySelectorAll(".step").forEach(s => s.classList.add("hidden"));
  document.getElementById("step" + n).classList.remove("hidden");
  const labels = ["Select Options", "Design", "Preview", "Send Order"];
  document.getElementById("stepIndicator").innerText = `Step ${n} of 4 · ${labels[n-1]}`;
}

function nextStep(){
  if (step < 4) {
    step++;
    showStep(step);
  }
}

function prevStep(){
  if (step > 1) {
    step--;
    showStep(step);
  }
}

function selectedStyleInput() {
  return document.querySelector("input[name='style']:checked");
}

function escapeHtml(value) {
  return String(value ?? '')
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#39;');
}

function selectedStyle() {
  const node = selectedStyleInput();
  return node ? node.value : '';
}

function selectedStyleId() {
  const node = selectedStyleInput();
  return node ? Number(node.dataset.id || 0) : null;
}

function selectedFittingIds() {
  return Array.from(document.querySelectorAll("input[name='fitting']:checked"))
    .map(node => Number(node.dataset.id || 0))
    .filter(Boolean);
}

function selectedFittingNames() {
  return Array.from(document.querySelectorAll("input[name='fitting']:checked"))
    .map(node => node.value)
    .filter(Boolean);
}

function updatePreview(){
  const svg = document.getElementById("previewSVG");
  svg.innerHTML = "";

  const widthMm = parseInt(document.getElementById("width").value, 10);
  const bg = document.getElementById("bgColor").value;
  const tc = document.getElementById("textColor").value;
  const txt = document.getElementById("designText").value.trim();

  const h = Math.max(48, Math.round(widthMm * 4));
  const logoSize = Math.round(h * 0.5);
  svg.setAttribute("viewBox", `0 0 1000 ${h}`);

  const bgRect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
  bgRect.setAttribute("width", 1000);
  bgRect.setAttribute("height", h);
  bgRect.setAttribute("fill", bg);
  svg.appendChild(bgRect);

  for (let x = 40; x < 1000; x += 180) {
    if (logoData) {
      const img = document.createElementNS("http://www.w3.org/2000/svg", "image");
      img.setAttribute("href", logoData);
      img.setAttribute("x", x);
      img.setAttribute("y", (h - logoSize) / 2);
      img.setAttribute("width", logoSize);
      img.setAttribute("height", logoSize);
      svg.appendChild(img);
    }
    if (txt) {
      const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
      text.setAttribute("x", x + logoSize + 10);
      text.setAttribute("y", h / 2 + 10);
      text.setAttribute("font-size", Math.round(h * 0.45));
      text.setAttribute("fill", tc);
      text.textContent = txt;
      svg.appendChild(text);
    }
  }
}

function downloadSVG(){
  const svg = document.getElementById("previewSVG");
  const data = new XMLSerializer().serializeToString(svg);
  const blob = new Blob([data], { type: "image/svg+xml" });
  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "lanyard-print.svg";
  link.click();
}

function downloadPDF(){
  const svg = document.getElementById("previewSVG");
  const data = new XMLSerializer().serializeToString(svg);
  const blob = new Blob([data], { type: "image/svg+xml" });
  const url = URL.createObjectURL(blob);

  const iframe = document.createElement("iframe");
  iframe.style.display = "none";
  iframe.src = url;
  document.body.appendChild(iframe);

  iframe.onload = () => {
    iframe.contentWindow.print();
  };
}

function sendWhatsApp(){
  const style = selectedStyle();
  const fittings = selectedFittingNames();
  const width = document.getElementById("width").value;
  const length = document.getElementById("length").value;
  const quality = document.getElementById("quality").value;
  const printing = document.getElementById("printing").value;
  const bgColor = document.getElementById("bgColor").value;
  const text = document.getElementById("designText").value;
  const textColor = document.getElementById("textColor").value;
  const qty = document.getElementById("qty").value;
  const hasLogo = logoData ? "Yes" : "No";

  const msg = `Custom Lanyard Order\n` +
    `Style: ${style}\n` +
    `Fittings: ${fittings.length ? fittings.join(", ") : "-"}\n` +
    `Width: ${width}mm\n` +
    `Length: ${length} inch\n` +
    `Quality: ${quality}\n` +
    `Printing: ${printing}\n` +
    `Base Color: ${bgColor}\n` +
    `Text: ${text || "-"}\n` +
    `Text Color: ${textColor}\n` +
    `Logo Attached: ${hasLogo}\n` +
    `Qty: ${qty || "-"}\n\n` +
    `Files attached: SVG + PDF`;

  window.location.href = `https://wa.me/919667371899?text=${encodeURIComponent(msg)}`;
}

async function loadCatalog() {
  try {
    const response = await fetch('/api/lanyard/catalog');
    const data = await response.json();
    if (!data.success) throw new Error(data.message || 'Failed to load catalog');
    catalog = {
      types: data.types || [],
      fittings: data.fittings || []
    };
    renderCatalog();
  } catch (err) {
    document.getElementById('styleOptions').innerHTML = '<p class="text-sm text-red-600 col-span-2">Unable to load styles.</p>';
    document.getElementById('fittingOptions').innerHTML = '<p class="text-sm text-red-600 col-span-2">Unable to load fittings.</p>';
  }
}

function renderCatalog() {
  const styleWrap = document.getElementById('styleOptions');
  const fittingWrap = document.getElementById('fittingOptions');
  styleWrap.innerHTML = '';
  fittingWrap.innerHTML = '';

  (catalog.types || []).forEach((type, index) => {
    const safeName = escapeHtml(type.name);
    const label = document.createElement('label');
    label.className = 'option-tile';
    label.innerHTML = `
      <input type="radio" name="style" value="${safeName}" data-id="${type.id}" class="hidden" ${index === 0 ? 'checked' : ''}>
      <span class="block border rounded-xl px-3 py-2 text-sm font-semibold">${safeName}</span>
    `;
    styleWrap.appendChild(label);
  });

  (catalog.fittings || []).forEach((fitting) => {
    const safeName = escapeHtml(fitting.name);
    const label = document.createElement('label');
    label.className = 'option-tile';
    label.innerHTML = `
      <input type="checkbox" name="fitting" value="${safeName}" data-id="${fitting.id}" class="hidden">
      <span class="block border rounded-xl px-3 py-2 text-sm">${safeName}</span>
    `;
    fittingWrap.appendChild(label);
  });
}

async function submitDesignRequest() {
  const name = document.getElementById('customerName').value.trim();
  const phone = document.getElementById('customerPhone').value.trim();
  const email = document.getElementById('customerEmail').value.trim();
  const company = document.getElementById('customerCompany').value.trim();
  const qty = document.getElementById('qty').value;

  if (!name || !phone) {
    document.getElementById('submitMessage').textContent = 'Name and phone are required.';
    return;
  }

  const payload = {
    name,
    phone,
    email,
    company,
    quantity: qty ? Number(qty) : null,
    lanyardTypeId: selectedStyleId(),
    fittingIds: selectedFittingIds(),
    widthMm: Number(document.getElementById('width').value),
    lengthInch: Number(document.getElementById('length').value),
    quality: document.getElementById('quality').value,
    printingStyle: document.getElementById('printing').value,
    bgColor: document.getElementById('bgColor').value,
    designText: document.getElementById('designText').value,
    textColor: document.getElementById('textColor').value,
    logoData: logoData || '',
    sourcePage: '/product/custom-lanyard.html',
    notes: ''
  };

  try {
    const response = await fetch('/api/lanyard/submissions', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    });
    const data = await response.json();
    if (!data.success) throw new Error(data.message || 'Failed to submit request');
    document.getElementById('submitMessage').textContent = `Request saved successfully. ID: ${data.submissionId}`;
  } catch (err) {
    document.getElementById('submitMessage').textContent = err.message || 'Failed to submit request.';
  }
}

showStep(1);
loadCatalog();
</script>

</body>
</html>
