<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title id="pageTitle">Product Details | Arya Overseas</title>
<meta name="description" id="pageDescription" content="View product details and pricing at Arya Overseas">
<meta name="keywords" content="product, pricing, MOQ, Arya Overseas, stationery, custom printing">

<!-- Open Graph -->
<meta property="og:type" content="product">
<meta property="og:title" id="ogTitle" content="Product Details | Arya Overseas">
<meta property="og:description" id="ogDescription" content="View product details and pricing">
<meta property="og:image" id="ogImage" content="">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:title" id="twitterTitle" content="Product Details | Arya Overseas">
<meta property="twitter:description" id="twitterDescription" content="View product details and pricing">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="/assets/theme.css">
<style>
* {
  scroll-behavior: smooth;
}

body {
  font-family: 'Inter', sans-serif;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInLeft {
  from { opacity: 0; transform: translateX(-30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes slideInRight {
  from { opacity: 0; transform: translateX(30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.loading-spinner {
  border: 4px solid #f3f4f6;
  border-top: 4px solid #3b82f6;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  animation: spin 1s linear infinite;
  margin: 40px auto;
}

.fade-in {
  animation: fadeIn 0.8s ease-out;
}

.slide-in-left {
  animation: slideInLeft 0.8s ease-out;
}

.slide-in-right {
  animation: slideInRight 0.8s ease-out;
}

.pricing-card {
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.pricing-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
  transition: left 0.5s;
}

.pricing-card:hover::before {
  left: 100%;
}

.pricing-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 35px rgba(59, 130, 246, 0.2);
}

.gradient-text {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.btn-whatsapp {
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.btn-whatsapp::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.btn-whatsapp:hover::after {
  width: 300px;
  height: 300px;
}

.image-zoom {
  transition: transform 0.5s ease;
}

.image-zoom:hover {
  transform: scale(1.05);
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

.float-animation {
  animation: float 3s ease-in-out infinite;
}
</style>
</head>

<body class="bg-gradient-to-b from-gray-50 to-white min-h-screen">

<header class="bg-white/95 backdrop-blur-md shadow-sm sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
    <a href="/" class="flex items-center gap-3 hover:opacity-80 transition-all group">
      <svg class="w-6 h-6 text-blue-600 group-hover:translate-x-[-4px] transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
      </svg>
      <span class="text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">Arya Overseas</span>
    </a>
    <a href="https://wa.me/919667371899" target="_blank" rel="noopener noreferrer"
       class="bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-2.5 rounded-full text-sm font-semibold hover:from-green-600 hover:to-green-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2">
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
      </svg>
      WhatsApp
    </a>
  </div>
</header>

<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
  <div id="productContainer" class="bg-white rounded-3xl shadow-2xl overflow-hidden">
    <!-- Loading state -->
    <div id="loadingState" class="p-16 text-center">
      <div class="loading-spinner"></div>
      <p class="text-gray-600 mt-6 text-lg">Loading product details...</p>
    </div>

    <!-- Error state -->
    <div id="errorState" class="hidden p-16 text-center">
      <div class="w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
        <svg class="w-12 h-12 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
      </div>
      <h2 class="text-3xl font-bold text-gray-800 mb-4">Product Not Found</h2>
      <p class="text-gray-600 mb-8 text-lg">The product you're looking for doesn't exist or has been removed.</p>
      <a href="/" class="inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-blue-700 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
        </svg>
        Return to Homepage
      </a>
    </div>

    <!-- Product content will be loaded here -->
    <div id="productContent" class="hidden"></div>
  </div>
</main>

<footer class="bg-gray-900 text-gray-400 py-12 mt-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <p class="text-sm">© 2026 Arya Overseas · Importer & Wholesaler · All rights reserved</p>
  </div>
</footer>

<script>
const API_BASE = window.location.origin;
const WHATSAPP_NUMBER = "919667371899";

// Get product ID from URL
const pathParts = window.location.pathname.split('/');
const productId = pathParts[pathParts.length - 1] || new URLSearchParams(window.location.search).get('id');

let product = null;

// Load product
async function loadProduct() {
  const loadingState = document.getElementById('loadingState');
  const errorState = document.getElementById('errorState');
  const productContent = document.getElementById('productContent');

  try {
    const response = await fetch(`${API_BASE}/api/products/${productId}`);
    const data = await response.json();

    if (data.success && data.product) {
      product = data.product;
      renderProduct(product);
      updateSEO(product);
      loadingState.classList.add('hidden');
      productContent.classList.remove('hidden');
    } else {
      loadingState.classList.add('hidden');
      errorState.classList.remove('hidden');
    }
  } catch (error) {
    console.error('Error loading product:', error);
    loadingState.classList.add('hidden');
    errorState.classList.remove('hidden');
  }
}

// Update SEO meta tags
function updateSEO(p) {
  document.getElementById('pageTitle').textContent = `${p.title} | Arya Overseas`;
  document.getElementById('pageDescription').content = p.shortDesc || p.description?.substring(0, 160) || 'Product details';
  
  const ogTitle = document.getElementById('ogTitle');
  const ogDescription = document.getElementById('ogDescription');
  const ogImage = document.getElementById('ogImage');
  const twitterTitle = document.getElementById('twitterTitle');
  const twitterDescription = document.getElementById('twitterDescription');

  if (ogTitle) ogTitle.content = p.title;
  if (ogDescription) ogDescription.content = p.shortDesc || p.description?.substring(0, 160) || '';
  if (ogImage) ogImage.content = p.image ? `${API_BASE}${p.image}` : '';
  if (twitterTitle) twitterTitle.content = p.title;
  if (twitterDescription) twitterDescription.content = p.shortDesc || p.description?.substring(0, 160) || '';

  // Add structured data
  const variantPrices = Array.isArray(p.variants)
    ? p.variants.map(v => v.price).filter(v => v !== null && v !== undefined)
    : [];
  const offers = p.pricing && p.pricing.length > 0 ? {
    "@type": "AggregateOffer",
    "priceCurrency": "INR",
    "lowPrice": Math.min(...p.pricing.map(t => t.price)).toString(),
    "highPrice": Math.max(...p.pricing.map(t => t.price)).toString(),
    "offerCount": p.pricing.length.toString()
  } : (variantPrices.length > 0 ? {
    "@type": "AggregateOffer",
    "priceCurrency": "INR",
    "lowPrice": Math.min(...variantPrices).toString(),
    "highPrice": Math.max(...variantPrices).toString(),
    "offerCount": variantPrices.length.toString()
  } : undefined);

  const structuredData = {
    "@context": "https://schema.org",
    "@type": "Product",
    "name": p.title,
    "description": p.description,
    "image": p.image ? `${API_BASE}${p.image}` : '',
    "offers": offers
  };

  let script = document.getElementById('structuredData');
  if (script) script.remove();
  script = document.createElement('script');
  script.id = 'structuredData';
  script.type = 'application/ld+json';
  script.textContent = JSON.stringify(structuredData);
  document.head.appendChild(script);
}

// Render product
function renderProduct(p) {
  const container = document.getElementById('productContent');
  
  // Format pricing tiers
  let pricingHTML = "";
  if (p.pricing && p.pricing.length > 0) {
    const pricingList = [...p.pricing].sort((a, b) => (a.min || 0) - (b.min || 0));
    const bestIndex = pricingList.reduce((bestIdx, tier, idx) => {
      if (tier.price < pricingList[bestIdx].price) return idx;
      if (tier.price === pricingList[bestIdx].price && (tier.min || 0) > (pricingList[bestIdx].min || 0)) return idx;
      return bestIdx;
    }, 0);
    pricingHTML = `
      <div class="bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 rounded-2xl p-8 md:p-10 border-2 border-blue-100">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-4c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-4c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-4c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1"></path>
            </svg>
          </div>
          <h3 class="text-3xl font-extrabold text-gray-900">MOQ-Based Pricing</h3>
        </div>
        <div class="grid md:grid-cols-2 gap-4 mb-4">
          ${pricingList.map((tier, index) => {
            const range = tier.max 
              ? `${tier.min} - ${tier.max} units`
              : `${tier.min}+ units`;
            const isBestValue = index === bestIndex;
            return `
              <div class="pricing-card bg-white rounded-xl p-6 border-2 ${isBestValue ? 'border-blue-500 ring-2 ring-blue-200' : 'border-gray-200'} shadow-lg">
                ${isBestValue ? `
                  <div class="absolute top-4 right-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full">
                    Best Value
                  </div>
                ` : ''}
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                  <div>
                    <p class="text-sm text-gray-600 mb-1">Quantity Range</p>
                    <p class="text-lg font-bold text-gray-900">${range}</p>
                  </div>
                  <div class="text-right">
                    <p class="text-sm text-gray-600 mb-1">Price per unit</p>
                    <p class="text-3xl font-extrabold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
                      ₹${tier.price.toFixed(2)}
                    </p>
                  </div>
                </div>
              </div>
            `;
          }).join('')}
        </div>
        <p class="text-sm text-gray-600 italic flex items-center gap-2">
          <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          * MOQ = Minimum Order Quantity. Prices may vary based on customization requirements.
        </p>
      </div>
    `;
  }

  let variantHTML = "";
  if ((!p.pricing || p.pricing.length === 0) && p.variants && p.variants.length > 0) {
    variantHTML = `
      <div class="bg-white rounded-2xl p-8 border border-gray-200 shadow-lg">
        <h3 class="text-2xl font-extrabold text-gray-900 mb-4">Available Variants</h3>
        <div class="space-y-3">
          ${p.variants.map(variant => {
            const attrs = variant.attributes ? Object.entries(variant.attributes).map(([k,v]) => `${k}: ${v}`).join(', ') : '';
            return `
              <div class="flex items-center justify-between border rounded-xl p-4">
                <div>
                  <p class="text-sm text-gray-500">${attrs || 'Standard'}</p>
                  <p class="text-lg font-semibold text-gray-900">${variant.sku || 'Variant'}</p>
                </div>
                <div class="text-right">
                  ${variant.price !== null && variant.price !== undefined ? `<p class="text-xl font-bold text-blue-600">₹${Number(variant.price).toFixed(2)}</p>` : ''}
                  <p class="text-xs text-gray-500">Stock: ${variant.stockQty ?? 0}</p>
                </div>
              </div>
            `;
          }).join('')}
        </div>
      </div>
    `;
  }

  const imageSrc = p.image ? `${API_BASE}${p.image}` : '/assets/veom-logo.png';

  container.innerHTML = `
    <div class="grid md:grid-cols-2 gap-8 md:gap-12 p-8 md:p-12 fade-in">
      <!-- Product Image -->
      <div class="slide-in-left">
        <div class="relative overflow-hidden rounded-2xl shadow-2xl bg-gray-100 group">
          <img src="${imageSrc}" alt="${p.title}" 
               class="w-full h-auto object-cover image-zoom"
               loading="eager"
               onerror="this.src='/assets/veom-logo.png'">
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
        </div>
      </div>

      <!-- Product Details -->
      <div class="slide-in-right space-y-6">
        <div>
          <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 leading-tight">
            ${p.title}
          </h1>
          ${p.shortDesc ? `
            <p class="text-xl text-gray-600 mb-6 leading-relaxed">
              ${p.shortDesc}
            </p>
          ` : ''}
        </div>
        
        <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
          <h2 class="text-2xl font-bold mb-4 text-gray-900 flex items-center gap-2">
            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
            </svg>
            Product Description
          </h2>
          <div class="text-gray-700 whitespace-pre-line leading-relaxed text-lg">
            ${p.description}
          </div>
        </div>

        ${pricingHTML}
        ${variantHTML}

        <div class="pt-6">
          <button onclick="sendWhatsApp()"
                  class="btn-whatsapp bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white w-full py-5 rounded-xl text-xl font-bold flex items-center justify-center gap-3 transition-all shadow-2xl transform hover:scale-105">
            <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
            </svg>
            Send Inquiry on WhatsApp
          </button>
        </div>

        <!-- Trust Badges -->
        <div class="grid grid-cols-3 gap-4 pt-6 border-t border-gray-200">
          <div class="text-center">
            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2">
              <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13h4m-4 0a2 2 0 110-4m0 4a2 2 0 101 4m-1 4h4m-4 0a2 2 0 110-4m0 4a2 2 0 101 4m6-16h4m-4 0a2 2 0 110-4m0 4a2 2 0 101 4m-1 4h4m-4 0a2 2 0 110-4m0 4a2 2 0 101 4"></path>
              </svg>
            </div>
            <p class="text-xs text-gray-600 font-semibold">Quality Assured</p>
          </div>
          <div class="text-center">
            <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2">
              <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <p class="text-xs text-gray-600 font-semibold">Fast Delivery</p>
          </div>
          <div class="text-center">
            <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2">
              <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
              </svg>
            </div>
            <p class="text-xs text-gray-600 font-semibold">Secure Payment</p>
          </div>
        </div>
      </div>
    </div>
  `;
}

// Send WhatsApp message
function sendWhatsApp() {
  if (!product) return;

  // Build pricing text
  let pricingText = "";
  if (product.pricing && product.pricing.length > 0) {
    pricingText = "\n\n*Pricing:*\n";
    product.pricing.forEach(tier => {
      const range = tier.max 
        ? `${tier.min}-${tier.max} units`
        : `${tier.min}+ units`;
      pricingText += `• ${range}: ₹${tier.price.toFixed(2)} per unit\n`;
    });
  } else if (product.variants && product.variants.length > 0) {
    pricingText = "\n\n*Variants:*\n";
    product.variants.forEach(variant => {
      const attrs = variant.attributes ? Object.entries(variant.attributes).map(([k,v]) => `${k}: ${v}`).join(', ') : 'Standard';
      const price = variant.price !== null && variant.price !== undefined ? `₹${Number(variant.price).toFixed(2)}` : 'Price on request';
      pricingText += `• ${attrs} - ${price}\n`;
    });
  }

  const message = `*${product.title}*

${product.description}${pricingText}

I'm interested in this product. Please provide more details.`;

  const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(message)}`;
  window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
}

// Initialize
if (productId) {
  document.addEventListener('DOMContentLoaded', loadProduct);
} else {
  document.getElementById('loadingState').classList.add('hidden');
  document.getElementById('errorState').classList.remove('hidden');
}
</script>

</body>
</html>
